# MeshBeam

Defined beam section

```
*SECTION, TYPE=MeshBeam, Name=name
{GJ=..., GAsy=..., GAsz=..., MTYPE=Consistent|Lumped, printOnFEM=On|Off }
*CellMeshPoint
 pointId, y,z, {y,z}
 ...
*Cell, TYPE=Mesh, Mat=mat
  p1,p2,p3{,p4}   # If p4 is not given, T3 element used
  ...
*Cell, TYPE=Layer, Mat=mat
 pointId, y, b, {y, b}
 ...
*Cell, TYPE=Point, Mat=mat
 pointId, y, z, area, {y,z,area}
 ...
```
__First dataline (생략 가능)__

- GJ=GJ1,GJ2,model : GJ1,GJ2를 양단 GJ로 적용. 모두 0이면 기본값이나 FEM을 통해 GJ 상수를 계산. model은 1축 재료모델로서, 계산된 GJ값에 곱해지는 값. 최종 GJ = (value)*(model)로 계산됨. 디폴트 갑은 0,0이고 모델은 없음
- GAsy=GAsy1,GAsz,model : GJ와 동일한 로직
- GAsz=GAsz1,GAsz2,model : GJ와 동일한 로직
- printOnFEM=On|Off : FEM으로 단면 상수를 계산할 때 메쉬 refinement에 따른 결과 출력(default Off)
- MTYPE={Consistent|Lumped} : Consistent or Lumped, which means consistent mass or lumped mass, respectively. (Optional, default Consistent)

__Keyword line of *CellMehsPoint__

- TYPE= type : Specifying cell type( Mesh, Point, Layer) and generation option
  * Mesh
  * Point
  * Layer : 2차원 보에만 사용할 수 있는 Layered section
- Mat=mat : material 


__Keyword line of *Cell__

- TYPE= type : Specifying cell type( Mesh, Point, Layer) and generation option
    * Mesh
    * Point
    * Layer : 2차원 보에만 사용할 수 있는 Layered section
- Mat=mat : material 

__Datalines for *Cell, TYPE=Mesh__

- p1,p2,p3{,p4} : *MeshPoint에서 정의된 pointId 들, 3개가 주어지면 T3, 4개가 주어지면 Q4로 유한요소해석
Datalines for *Cell, TYPE=Layer
- y : y coordinate
- b : width

__Datalines for *Cell, TYPE=Point__

- pointId : point id (required)
- y,z : y,z coordiantes (optional, default 0,0)
- area : area (required)

다음은 Mesh, Layer, Point로 변경되는 utility 명령 들

```
*Cell, TYPE=Point,CircularPoints, Mat=mat, N=npoints
 R=r, A=a,  Ang=angl, C=y,z 
 {R=r, A=a, C=y,z Ang=angle}

*Cell, TYPE=Mesh,Rectangle Mat=mat, {N=nb,nh}
 B=b, H=h, C=yc,zc
 {B=b, H=h, C=yc,zc }

*Cell, TYPE=Mesh,Circle, Mat=steel, {N=nseg}
 R=outerR,innerR, C=yc,zc
 {R=outerR,innerR, C=yc,zc}

*Cell, TYPE=Layer,Stack, Mat=mat, {MaxSize=maxSize}
 Y=y0,y1,...yn, B=b0,b1,...,bn
 {Y=y0,y1,...yn, B=b0,b1,...,bn}

*Cell, TYPE=Layer,Circle, Mat=mat, {N=nOuterR,nInnerR}
 R=outerR,innerR, C=yc
 {R=outerR,innerR, C=yc}
```

__*Cell, TYPE=Point,CircularPoints : 원형으로 Point를 생성__

- N=npoints : No. of points
- R=r : radius (required)
- A=a : area of each point (required)
- Ang=angle : counter-clockwise angle from 6 o’clok of the starting layer (optional, default 0.)
- C=yc,zc : center coordinate of circle w.r.t reference node (optional, default 0,0)

__*Cell, TYPE=Mesh,Rectangle : 사각형에 대한 Mesh 생성__

- N=nb,nh :No. of layers in width and height (optional, default 4,4)
- B=b : width (in y axis) (required)
- H=h : height (in z axis) (required)
- C=yc,zc : center w.r.t reference node (optional, default 0,0)

__*Cell, TYPE=Mesh,Circle : 원에 대한 Mesh 생성__

- N=nseg : No. of segments in the perimeter of quarter outer circle (optional, default 4)
- R=outerR,innerR : outer and inner radius (outerR is required, but innerR is optional(default 0.)
- C=yc,zc : center w.r.t reference node (optional, default 0,0)

__*Cell, TYPE=Layer,Stack : 스택 형의 Layer 생성__
- MaxSize=maxSize : maximum layer height (optional)
- Y=y0,y1,...,yn : y coordiantes
- B=b0,b1,...,bn : widths
*Cell, TYPE=Layer, Circle : 원에 대한 Layer 생성
- N=nOuterR,nInnerR : No. of layers in R and R2. nOuterR > nInnerR if given. (optional, default 4, 2)
- R=outerR,innerR : outer and inner radius (outerR is required, but innerR is optional(default 0.)
- C=yc : y coordinate of center w.r.t reference node (optional, deault 0.)

Description
cellId는 1,2,3, 등의 순으로 자동 생성된다. 

__Example__
```
*Section, TYPE=GeneralBeam, Name=sec
 GJ=torsion, MTYPE=Consistent
*Cell, TYPE=POINT, Mat=steel
  1, 1, 0, 10.   # pointId, z, x, area
  2, 1, 5, 10.
  3, 1, 4, 12 
*Cell, TYPE=LAYER, Mat=steel
  0, 10   # y, b (pointId is assumed 1-based consecutive index)
  2, 10   
  2, 3    # 높이차가 없으면 null layer

*Section, TYPE=GeneralBeam, Name=sec
 GJ=torsion, MTYPE=Consistent
*CellMeshPoint
   1,0,0  # pointId, z, y (pointId should be 1-based, but non-consecutive)
   2,1,0
   3,2,0
   4,0,1
   5,1,0
   6,2,0
*Cell, TYPE=Mesh, Mat=steel
   1,2,3       #  n1,n2,n3  # elementId is assumed 1-based consecutive index
   3,4,1
   4,2,3,4,1   # n1, n2, n3, n4
   4,3,4,5,1

*Section, TYPE=GeneralBeam, Name=2
*Cell, TYPE=Layer,Generate, Mat=steel
  StackedLayer,  Y=0,1,1,10,10,11, B=10,10,3,1,10,10, C=5.5, MaxSize=1
*Cell, TYPE=Layer,Generate, Mat=steel
  Circle, R=10,9, C=0, N=1,9
*Cell, TYPE=Point,Generate, Mat=steel
  CircularPoints,R=5, A=1.6, N=10, C=0,0, Ang=0
*Cell, TYPE=Mesh,Generate, Mat=steel
  Rectangle, B=6 H=10, C=0,0, N=6,10
```



